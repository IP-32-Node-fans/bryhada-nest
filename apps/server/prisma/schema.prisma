generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum UserRole {
  USER  @map("user")
  ADMIN @map("admin")
}

model User {
  id       Int      @id @default(autoincrement())
  username String
  email    String   @unique
  password String
  role     UserRole @default(USER)

  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt() @map("updated_at")
}

model Currency {
  id            Int             @id @default(autoincrement())
  name          String          @unique
  exchangeRates ExchangeRates[]

  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt() @map("updated_at")
}

model ExchangeRates {
  id         Int      @id @default(autoincrement())
  rate       Float
  date       String
  currencyId Int      @map("currency_id")
  currency   Currency @relation(fields: [currencyId], references: [id])

  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt() @map("updated_at")

  @@map("exchange_rates")
}
